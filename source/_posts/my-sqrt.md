---
title: x 的平方根
date: 2022-02-17
tags: ["二叉树"]
categories: ["算法"]
author: a东
---

## x 的平方根
给定一个非负整数 `x` ，计算并返回 `x` 的平方根，即实现 `int sqrt(int x)` 函数。

正数的平方根有两个，只输出其中的正数平方根。

如果平方根不是整数，输出只保留整数的部分，小数部分将被舍去。

[ leetcode 题目链接](https://leetcode-cn.com/problems/jJ0w9p/)

示例1
```
输入: x = 4
输出: 2
```

示例2
```
输入: x = 8
输出: 2
解释: 8 的平方根是 2.82842...，由于小数部分将被舍去，所以返回 2
```
<!-- more -->

### 解题思路
根据题目要求最终要求的平方根可以截断为一个整数，因此可以把问题转化为在一个 `[1,n]` 的升序数组中查找一个满足条件的平方根值。根据数组的特性 **有序**、**无重复元素**，可以直接采用二分查找算法求解。
因为 `n` 的平方根不会超过 `n/2 + 1` 因此右边界可以直接设为 `n/2 + 1`。`n` 的值存在如下2种情况：
```markdown
n 是一个完全平方数，那么能恰好查找到对应的平方根值。
n 不是一个完全平方数，那么返回小于浮点型平方根的第一个整数。
```
针对第2种情况，同样可以使用我们在二分查找算法文章 [二分查找算法-运行结果分析](/2022/02/15/binary-search/) 一节中分析所得的结论，即目标值不在数组中时，查找结束后 `right` 指向小于目标值的第一个元素。
**因此对于 `n` 为非完全平方数的情况我们可以直接返回 `right`**

```cgo
    func mySqrt(n int) int {
        left := 0
        right := n/2 + 1
        for left <= right {
            mid := left + (right-left)/2
            if mid*mid == n {
                return mid
            } else if mid*mid < n {
                left = mid + 1
            } else {
                right = mid - 1
            }
        }
        return right
    }
```

## 参考
* [leetcode](https://leetcode-cn.com/)





